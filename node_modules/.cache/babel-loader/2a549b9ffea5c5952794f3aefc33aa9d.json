{"ast":null,"code":"import _slicedToArray from\"/Users/nguyentrungchinh/project_19/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _this=this;import React,{useState}from\"react\";import'./Dashboard.css';import'./App.css';import axios from'axios';// import React, { Component } from 'react';\n// import React from 'react';\nimport{Component}from'react';// import { useState } from 'react';\n// import Textarea from \"react-dropzone-textarea\";\nimport{inference}from'./inference.js';import{columnNames}from'./inference.js';import{modelDownloadInProgress}from'./inference.js';import Chart from\"react-google-charts\";import Box from'@mui/material/Box';import LinearProgress from'@mui/material/LinearProgress';// import { useState } from 'react';\n// import './App.scss';\nimport FileUpload from'./FileUpload/FileUpload';import FileList from'./FileList/FileList';import FileProcessing from'./FileProcessing';// import Dashboard from './Dashboard';\nimport'./Dashboard.css';// import {uploadfile} from './uploadfile.js';\n// import React from 'react'\nimport{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus}from'@fortawesome/free-solid-svg-icons';import'./FileUpload/FileUpload.scss';// import axios from 'axios'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,4),textValue=_useState2[0],setTextValue=_useState2[1],state=_useState2[2],setState=_useState2[3];var handleChange=function handleChange(e){var file=e.target.files[0];var reader=new FileReader();reader.onload=function(e){var file=e.target.result;console.log(file);setTextValue(file);};reader.onerror=function(e){return alert(e.target.error.name);};reader.readAsText(file);componentDidMount=function componentDidMount(e){timerID=setInterval(function(){return checkModelStatus();},1000);};checkModelStatus=function checkModelStatus(e){setState({downloading:modelDownloadInProgress()});if(!state.downloading){_this.timerID=setInterval(function(){return _this.checkModelStatus;},5000000);}};checkPredict=function checkPredict(e){inference(textValue).then(function(result){setState({text:textValue,data:result[1],latency:result[0]});});};};return/*#__PURE__*/_jsxs(\"div\",{className:\"Dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"input\",onChange:handleChange}),/*#__PURE__*/_jsx(\"textarea\",{cols:30,rows:20,value:textValue,onChange:setTextValue,style:{marginTop:15,width:\"50%\"}})]}),/*#__PURE__*/_jsx(Chart,{width:'400px',height:'200px',chartType:\"BarChart\",data:state.data,options:{chartArea:{width:'40%'},colors:['purple'],backgroundColor:'#282c34',legend:{textStyle:{color:'white',fontSize:10},labels:{fontColor:'white'}},vAxis:{textStyle:{color:'white',fontSize:13}},hAxis:{minValue:5,maxValue:50,textStyle:{color:'white'}}}}),state.downloading&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"font\",{size:\"2\",children:\"Downloading model from CDN to browser..\"}),/*#__PURE__*/_jsx(Box,{sx:{width:'400px'},children:/*#__PURE__*/_jsx(LinearProgress,{})}),/*#__PURE__*/_jsx(\"p\",{})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","axios","Component","inference","columnNames","modelDownloadInProgress","Chart","Box","LinearProgress","FileUpload","FileList","FileProcessing","FontAwesomeIcon","faPlus","Dashboard","textValue","setTextValue","state","setState","handleChange","e","file","target","files","reader","FileReader","onload","result","console","log","onerror","alert","error","name","readAsText","componentDidMount","timerID","setInterval","checkModelStatus","downloading","checkPredict","then","text","data","latency","display","marginTop","width","chartArea","colors","backgroundColor","legend","textStyle","color","fontSize","labels","fontColor","vAxis","hAxis","minValue","maxValue"],"sources":["/Users/nguyentrungchinh/project_19/src/Dashboard.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport './Dashboard.css';\n\n\n\n\n\nimport './App.css';\n\nimport axios from 'axios';\n// import React, { Component } from 'react';\n\n// import React from 'react';\n\nimport { Component } from 'react';\n\n// import { useState } from 'react';\n// import Textarea from \"react-dropzone-textarea\";\n\nimport {inference} from './inference.js';\nimport {columnNames} from './inference.js';\nimport {modelDownloadInProgress} from './inference.js';\nimport Chart from \"react-google-charts\";\nimport Box from '@mui/material/Box';\nimport LinearProgress from '@mui/material/LinearProgress';\n\n// import { useState } from 'react';\n// import './App.scss';\nimport FileUpload from './FileUpload/FileUpload';\nimport FileList from './FileList/FileList';\nimport FileProcessing from './FileProcessing';\n// import Dashboard from './Dashboard';\nimport './Dashboard.css';\n\n// import {uploadfile} from './uploadfile.js';\n\n// import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlus } from '@fortawesome/free-solid-svg-icons'\nimport './FileUpload/FileUpload.scss'\n// import axios from 'axios'\n\n\nconst Dashboard = () => {\n  const [textValue, setTextValue, state, setState] = useState(\"\");\n  const handleChange = (e) => {\n    const file = e.target.files[0];\n\n    let reader = new FileReader();\n\n    reader.onload = (e) => {\n      const file = e.target.result;\n      console.log(file);\n      setTextValue(file);\n    };\n\n    reader.onerror = (e) => alert(e.target.error.name);\n    reader.readAsText(file);\n\n\n\n    componentDidMount= (e) =>  {\n        timerID = setInterval(\n          () => checkModelStatus(),\n          1000\n        );\n      };\n    \n    checkModelStatus= (e) =>  {\n        setState({\n            downloading: modelDownloadInProgress(),\n        });\n        if (!state.downloading) {\n            this.timerID = setInterval(\n            () => this.checkModelStatus,\n            5000000\n            );\n        }\n    };\n    \n    \n    checkPredict= (e) =>  {  \n        inference(textValue).then( result => {\n            setState({\n            text : textValue,\n            data:result[1],\n            latency:result[0],\n        });\n        });\n    \n    };\n    \n\n\n  };\n\n\n\n\n\n\n  return (\n    <div className=\"Dashboard\">\n     {/* <div className=\"App\">  */}\n    <div style={{ display: \"flex\" }}>\n      <input type=\"file\" name=\"input\" onChange={handleChange} />\n      <textarea\n        cols={30}\n        rows={20}\n        value={textValue}\n        onChange={setTextValue}\n        style={{ marginTop: 15, width: \"50%\" }}\n      ></textarea>\n    </div>\n\n\n    <Chart  \n                    width={'400px'}\n                    height={'200px'}\n                    chartType=\"BarChart\"\n                    data={state.data}\n                    options={{\n                    chartArea: { width: '40%'},\n                    colors: ['purple'],\n                    backgroundColor: '#282c34',\n                    legend: { \n                        textStyle: {color: 'white', fontSize: 10},\n                        labels: {fontColor:'white'}\n                    },\n                    vAxis: {\n                        textStyle: {\n                        color: 'white',\n                        fontSize: 13\n                    }\n                    },\n                    hAxis: {\n                        minValue: 5,\n                        maxValue: 50,\n                        textStyle: {\n                        color: 'white'\n                        }\n                    }\n                }}\n                />\n\n                {state.downloading && \n                        <div><font size=\"2\">Downloading model from CDN to browser..</font>\n                        <Box sx={{ width: '400px' }}>\n                        <LinearProgress />\n                        </Box> \n                        <p></p>\n                        </div>\n                    }\n\n\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}