{"ast":null,"code":"var _jsxFileName = \"/Users/nguyentrungchinh/project_19/src/App.jsx\";\nimport './App.css';\nimport axios from 'axios'; // import React, { Component } from 'react';\n\nimport React from 'react';\nimport { Component } from 'react'; // import { useState } from 'react';\n// import Textarea from \"react-dropzone-textarea\";\n\nimport { inference } from './inference.js';\nimport { columnNames } from './inference.js';\nimport { modelDownloadInProgress } from './inference.js';\nimport Chart from \"react-google-charts\";\nimport Box from '@mui/material/Box';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport { useState } from 'react';\nimport './App.scss';\nimport FileUpload from './FileUpload/FileUpload';\nimport FileList from './FileList/FileList';\nimport FileProcessing from './FileProcessing';\nimport Dashboard from './Dashboard';\nimport './Dashboard.css'; // import CsvReader from './CsvReader';\n// import {uploadfile} from './uploadfile.js';\n// import React from 'react'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport './FileUpload/FileUpload.scss'; // import axios from 'axios'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TextInputArea extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // Initially, no file is selected\n      selectedFile: null\n    };\n\n    this.onFileChange = event => {\n      // Update the state\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.onFileUpload = () => {\n      // Create an object of formData\n      // const formData = new FormData();\n      // // Update the formData object\n      // formData.append(\n      //   \"myFile\",\n      //   this.state.selectedFile,\n      //   this.state.selectedFile.name\n      // );\n      // Details of the uploaded file\n      console.log(this.state.selectedFile); // Request made to the backend api\n      // Send formData object\n      // axios.post(\"https://file-upload8.p.rapidapi.com/upload\", formData, \n      // {\n      //   headers: {\n      //     \"Content-Type\": \"multipart/form-data\",\n      //     \"x-rapidapi-host\": \"file-upload8.p.rapidapi.com\",\n      //     \"x-rapidapi-key\": \"54b5d42c85mshe8beeaee0224812p19c856jsn693dc0130385\",\n      //   },\n      // }\n      // );\n      // axios.post(\"https://file-upload8.p.rapidapi.com/upload\", {myFile: (this.state.selectedFile,this.state.selectedFile.name)}, \n      // {\n      //   headers: {\n      //     \"Content-Type\": \"multipart/form-data\",\n      //     \"x-rapidapi-host\": \"file-upload8.p.rapidapi.com\",\n      //     \"x-rapidapi-key\": \"67c784071bmsh339dd9d9dfa4776p1995bdjsn2731d6524052\",\n      //   },\n      // }\n      // );\n\n      axios.post(\"http://localhost:3001/upload\", {\n        myFile: (this.state.selectedFile, this.state.selectedFile.name)\n      });\n    };\n\n    this.state = {\n      text: 'Enter text to classify emotion, model trained on English text.',\n      data: columnNames,\n      latency: 0.0,\n      downloading: modelDownloadInProgress()\n    };\n    this.handleChange = this.handleChange.bind(this);\n    [textValue, setTextValue] = useState(\"\");\n  } // Dashboard = () => {\n  //   const [textValue, setTextValue] = useState(\"\");\n  //   const handleChange = (e) => {\n  //     const file = e.target.files[0];\n  //     let reader = new FileReader();\n  //     reader.onload = (e) => {\n  //       const file = e.target.result;\n  //       console.log(file);\n  //       setTextValue(file);\n  //     };\n  //     reader.onerror = (e) => alert(e.target.error.name);\n  //     reader.readAsText(file);\n  //   };\n  //   return (\n  //     // <div className=\"Dashboard\">\n  //     <div className=\"App\">\n  //     <div style={{ display: \"flex\" }}>\n  //       <input type=\"file\" name=\"input\" onChange={handleChange} />\n  //       <textarea\n  //         cols={30}\n  //         rows={20}\n  //         value={textValue}\n  //         onChange={setTextValue}\n  //         style={{ marginTop: 15, width: \"50%\" }}\n  //       ></textarea>\n  //     </div>\n  //     </div>\n  //   );\n  // };\n\n\n  // // File content to be displayed after\n  // // file upload is complete\n  // fileData = () => {\n  //   if (this.state.selectedFile) {\n  //     return (\n  //       <div>\n  //         <h5>File Details:</h5>\n  //         <p>File Name: {this.state.selectedFile.name}</p>\n  //         <p>File Type: {this.state.selectedFile.type}</p>\n  //         <p>\n  //           Last Modified:{\" \"}\n  //           {this.state.selectedFile.lastModifiedDate.toDateString()}\n  //         </p>\n  //       </div>\n  //     );\n  //   } else {\n  //     return (\n  //       <div>\n  //         <br />\n  //         <h5>Choose before Pressing the Upload button</h5>\n  //       </div>\n  //     );\n  //   };\n  // }\n  componentDidMount() {\n    this.timerID = setInterval(() => this.checkModelStatus(), 1000);\n  }\n\n  checkModelStatus() {\n    this.setState({\n      downloading: modelDownloadInProgress()\n    });\n\n    if (!this.state.downloading) {\n      this.timerID = setInterval(() => this.checkModelStatus, 5000000);\n    }\n  } // handleChange(event) {  \n  //   inference(event.target.value).then( result => {\n  //     this.setState({\n  //       text : event.target.value,\n  //       data:result[1],\n  //       latency:result[0],\n  //     });\n  //   });\n  //   // inference(event.target.value).then( result => {\n  //   //   this.setState({\n  //   //     text : text => Dashboard.textValue,\n  //   //     data:result[1],\n  //   //     latency:result[0],\n  //   //   });\n  //   // });\n  // }\n\n\n  handleChange(event) {\n    axios.get('/upload').then(response => {\n      // Convert data to CSV format(optional)\n      const file = response.files[0];\n    }).catch(error => {\n      // Handle errors\n      console.error(error);\n    }); // const file = e.target.files[0];\n\n    let reader = new FileReader();\n\n    reader.onload = e => {\n      const file = response.result;\n      console.log(file);\n      setTextValue(file);\n    };\n\n    reader.onerror = e => alert(response.error.name);\n\n    reader.readAsText(file);\n    inference(textValue).then(result => {\n      this.setState({\n        text: textValue,\n        data: result[1],\n        latency: result[0]\n      });\n    });\n  } // Dashboard = () => {\n  //   const [textValue, setTextValue] = useState(\"\");\n  //   const handleChange = (e) => {\n  //     axios.get('/upload')\n  //     .then(response => {\n  //       // Convert data to CSV format(optional)\n  //       const file = response.file;\n  //     })\n  //     .catch(error => {\n  //       // Handle errors\n  //       console.error(error);\n  //     });\n  //     // const file = e.target.files[0];\n  //     let reader = new FileReader();\n  //     reader.onload = (e) => {\n  //       const file = e.target.result;\n  //       console.log(file);\n  //       setTextValue(file);\n  //     };\n  //     reader.onerror = (e) => alert(e.target.error.name);\n  //     reader.readAsText(file);\n  //   };\n  //   return (\n  //     <div className=\"Dashboard\">\n  //   {/* <div className=\"App\">  */}\n  //     <div style={{ display: \"flex\" }}>\n  //       <input type=\"file\" name=\"input\" onChange={handleChange} />\n  //       <textarea\n  //         cols={30}\n  //         rows={20}\n  //         value={textValue}\n  //         onChange={setTextValue}\n  //         style={{ marginTop: 15, width: \"50%\" }}\n  //       ></textarea>\n  //     </div>\n  //     </div>\n  //   );\n  // };\n  // handleChange (event) {  \n  //   inference(event.target.value).then( result => {\n  //     this.setState({\n  //       text : event.target.value,\n  //       data:result[1],\n  //       latency:result[0],\n  //     });\n  //   });\n  // }\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"em\", {\n          children: \"In-Browser Transformer Inference\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Chart, {\n          width: '400px',\n          height: '200px',\n          chartType: \"BarChart\",\n          data: this.state.data,\n          options: {\n            chartArea: {\n              width: '40%'\n            },\n            colors: ['purple'],\n            backgroundColor: '#282c34',\n            legend: {\n              textStyle: {\n                color: 'white',\n                fontSize: 10\n              },\n              labels: {\n                fontColor: 'white'\n              }\n            },\n            vAxis: {\n              textStyle: {\n                color: 'white',\n                fontSize: 13\n              }\n            },\n            hAxis: {\n              minValue: 5,\n              maxValue: 50,\n              textStyle: {\n                color: 'white'\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(FileProcessing, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), this.state.downloading && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"font\", {\n            size: \"2\",\n            children: \"Downloading model from CDN to browser..\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: '400px'\n            },\n            children: /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"font\", {\n            size: \"3\",\n            children: [\"Inference Latency \", this.state.latency, \" ms\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"font\", {\n            size: \"3\",\n            children: [\"GitHub Repo: \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"https://github.com/jobergum/browser-ml-inference\",\n              children: \"browser-ml-inference\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 40\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"font\", {\n            size: \"3\",\n            children: [\"Model was trained on the \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"https://ai.googleblog.com/2021/10/goemotions-dataset-for-fine-grained.html\",\n              children: \"GoEmotions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 52\n            }, this), \" dataset.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default TextInputArea; // const Dashboard = () => {\n//   const [textValue, setTextValue] = useState(\"\");\n//   const handleChange = (e) => {\n//     const file = e.target.files[0];\n//     let reader = new FileReader();\n//     reader.onload = (e) => {\n//       const file = e.target.result;\n//       console.log(file);\n//       setTextValue(file);\n//     };\n//     reader.onerror = (e) => alert(e.target.error.name);\n//     reader.readAsText(file);\n//   };\n//   return (\n//     <div style={{ display: \"flex\" }}>\n//       <input type=\"file\" name=\"input\" onChange={handleChange} />\n//       <textarea\n//         cols={30}\n//         rows={20}\n//         value={textValue}\n//         onChange={setTextValue}\n//         style={{ marginTop: 15, width: \"50%\" }}\n//       ></textarea>\n//     </div>\n//   );\n// };\n// axios\n// .post(\"https://file-upload8.p.rapidapi.com/upload\", formData,\n//   {\n//     headers: {\n//       \"Content-Type\": \"multipart/form-data\",\n//       \"x-rapidapi-host\": \"file-upload8.p.rapidapi.com\",\n//       \"x-rapidapi-key\": \"54b5d42c85mshe8beeaee0224812p19c856jsn693dc0130385\",\n//     },\n//   }\n// )\n// .then((response) => {\n//   // handle the response\n//       console.log(response);\n//     })\n// .catch((error) => {\n//   // handle errors\n//   console.log(error);\n// });\n// state = {\n//   // Initially, no file is selected\n//   selectedFile: null\n// };\n// // On file select (from the pop up)\n// onFileChange = event => {\n//   // Update the state\n//   this.setState({ selectedFile: event.target.files[0] });\n// };\n// // On file upload (click the upload button)\n// onFileUpload = () => {\n//   // Create an object of formData\n//   const formData = new FormData();\n//   // Update the formData object\n//   formData.append(\n//     \"myFile\",\n//     this.state.selectedFile,\n//     this.state.selectedFile.name\n//   );\n//   // Details of the uploaded file\n//   console.log(this.state.selectedFile);\n//   // Request made to the backend api\n//   // Send formData object\n//   axios.post(\"api/uploadfile\", formData);\n// };\n// // File content to be displayed after\n// // file upload is complete\n// fileData = () => {\n//   if (this.state.selectedFile) {\n//     return (\n//       <div>\n//         <h2>File Details:</h2>\n//         <p>File Name: {this.state.selectedFile.name}</p>\n//         <p>File Type: {this.state.selectedFile.type}</p>\n//         <p>\n//           Last Modified:{\" \"}\n//           {this.state.selectedFile.lastModifiedDate.toDateString()}\n//         </p>\n//       </div>\n//     );\n//   } else {\n//     return (\n//       <div>\n//         <br />\n//         <h4>Choose before Pressing the Upload button</h4>\n//       </div>\n//     );\n//   }","map":{"version":3,"names":["axios","React","Component","inference","columnNames","modelDownloadInProgress","Chart","Box","LinearProgress","useState","FileUpload","FileList","FileProcessing","Dashboard","FontAwesomeIcon","faPlus","TextInputArea","constructor","props","state","selectedFile","onFileChange","event","setState","target","files","onFileUpload","console","log","post","myFile","name","text","data","latency","downloading","handleChange","bind","textValue","setTextValue","componentDidMount","timerID","setInterval","checkModelStatus","get","then","response","file","catch","error","reader","FileReader","onload","e","result","onerror","alert","readAsText","render","chartArea","width","colors","backgroundColor","legend","textStyle","color","fontSize","labels","fontColor","vAxis","hAxis","minValue","maxValue"],"sources":["/Users/nguyentrungchinh/project_19/src/App.jsx"],"sourcesContent":["import './App.css';\n\nimport axios from 'axios';\n// import React, { Component } from 'react';\n\nimport React from 'react';\n\nimport { Component } from 'react';\n\n// import { useState } from 'react';\n// import Textarea from \"react-dropzone-textarea\";\n\nimport {inference} from './inference.js';\nimport {columnNames} from './inference.js';\nimport {modelDownloadInProgress} from './inference.js';\nimport Chart from \"react-google-charts\";\nimport Box from '@mui/material/Box';\nimport LinearProgress from '@mui/material/LinearProgress';\n\nimport { useState } from 'react';\nimport './App.scss';\nimport FileUpload from './FileUpload/FileUpload';\nimport FileList from './FileList/FileList';\nimport FileProcessing from './FileProcessing';\nimport Dashboard from './Dashboard';\nimport './Dashboard.css';\n\n// import CsvReader from './CsvReader';\n// import {uploadfile} from './uploadfile.js';\n\n// import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlus } from '@fortawesome/free-solid-svg-icons'\nimport './FileUpload/FileUpload.scss'\n// import axios from 'axios'\n\n\n \n\nclass TextInputArea extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: 'Enter text to classify emotion, model trained on English text.',\n      data:columnNames,\n      latency:0.0,\n      downloading:modelDownloadInProgress()\n    };\n    this.handleChange = this.handleChange.bind(this);\n    [textValue, setTextValue] = useState(\"\");\n  }\n\n\n  // Dashboard = () => {\n  //   const [textValue, setTextValue] = useState(\"\");\n  //   const handleChange = (e) => {\n  //     const file = e.target.files[0];\n  \n  //     let reader = new FileReader();\n  \n  //     reader.onload = (e) => {\n  //       const file = e.target.result;\n  //       console.log(file);\n  //       setTextValue(file);\n  //     };\n  \n  //     reader.onerror = (e) => alert(e.target.error.name);\n  //     reader.readAsText(file);\n  //   };\n  //   return (\n  //     // <div className=\"Dashboard\">\n  //     <div className=\"App\">\n  //     <div style={{ display: \"flex\" }}>\n  //       <input type=\"file\" name=\"input\" onChange={handleChange} />\n  //       <textarea\n  //         cols={30}\n  //         rows={20}\n  //         value={textValue}\n  //         onChange={setTextValue}\n  //         style={{ marginTop: 15, width: \"50%\" }}\n  //       ></textarea>\n  //     </div>\n  //     </div>\n  //   );\n  // };\n\n\n\n\n  \n  state = {\n    // Initially, no file is selected\n    selectedFile: null\n  }\n  \n  // On file select (from the pop up)\n  onFileChange = event => {\n    // Update the state\n    this.setState({ selectedFile: event.target.files[0] });\n  }\n  \n  // On file upload (click the upload button)\n  onFileUpload = () => {\n    \n    // Create an object of formData\n    // const formData = new FormData();\n  \n    // // Update the formData object\n    // formData.append(\n    //   \"myFile\",\n    //   this.state.selectedFile,\n    //   this.state.selectedFile.name\n    // );\n  \n    // Details of the uploaded file\n    console.log(this.state.selectedFile);\n  \n    // Request made to the backend api\n    // Send formData object\n\n    // axios.post(\"https://file-upload8.p.rapidapi.com/upload\", formData, \n    \n    // {\n    //   headers: {\n    //     \"Content-Type\": \"multipart/form-data\",\n    //     \"x-rapidapi-host\": \"file-upload8.p.rapidapi.com\",\n    //     \"x-rapidapi-key\": \"54b5d42c85mshe8beeaee0224812p19c856jsn693dc0130385\",\n    //   },\n    // }\n    // );\n\n\n    // axios.post(\"https://file-upload8.p.rapidapi.com/upload\", {myFile: (this.state.selectedFile,this.state.selectedFile.name)}, \n    \n    // {\n    //   headers: {\n    //     \"Content-Type\": \"multipart/form-data\",\n    //     \"x-rapidapi-host\": \"file-upload8.p.rapidapi.com\",\n    //     \"x-rapidapi-key\": \"67c784071bmsh339dd9d9dfa4776p1995bdjsn2731d6524052\",\n    //   },\n    // }\n    // );\n\n\n\n    axios.post(\"http://localhost:3001/upload\", {myFile: (this.state.selectedFile,this.state.selectedFile.name)});\n\n  }\n  \n  // // File content to be displayed after\n  // // file upload is complete\n  // fileData = () => {\n  //   if (this.state.selectedFile) {\n  //     return (\n  //       <div>\n  //         <h5>File Details:</h5>\n  //         <p>File Name: {this.state.selectedFile.name}</p>\n  //         <p>File Type: {this.state.selectedFile.type}</p>\n  //         <p>\n  //           Last Modified:{\" \"}\n  //           {this.state.selectedFile.lastModifiedDate.toDateString()}\n  //         </p>\n  //       </div>\n  //     );\n  //   } else {\n  //     return (\n  //       <div>\n  //         <br />\n  //         <h5>Choose before Pressing the Upload button</h5>\n  //       </div>\n  //     );\n  //   };\n  // }\n\n\n\n\n\n\n  componentDidMount() {\n    this.timerID = setInterval(\n      () => this.checkModelStatus(),\n      1000\n    );\n  }\n\n  checkModelStatus() {\n    this.setState({\n      downloading: modelDownloadInProgress(),\n    });\n    if (!this.state.downloading) {\n      this.timerID = setInterval(\n        () => this.checkModelStatus,\n        5000000\n      );\n    }\n  }\n\n  // handleChange(event) {  \n  //   inference(event.target.value).then( result => {\n  //     this.setState({\n  //       text : event.target.value,\n  //       data:result[1],\n  //       latency:result[0],\n  //     });\n  //   });\n\n  //   // inference(event.target.value).then( result => {\n  //   //   this.setState({\n  //   //     text : text => Dashboard.textValue,\n  //   //     data:result[1],\n  //   //     latency:result[0],\n  //   //   });\n  //   // });\n\n  // }\n\n\n\n    handleChange(event) { \n      \n      axios.get('/upload')\n      .then(response => {\n        // Convert data to CSV format(optional)\n        const file = response.files[0];\n      })\n      .catch(error => {\n        // Handle errors\n        console.error(error);\n      });\n  \n  \n      // const file = e.target.files[0];\n  \n      let reader = new FileReader();\n\n      reader.onload = (e) => {\n        const file = response.result;\n        console.log(file);\n        setTextValue(file);\n      };\n  \n      reader.onerror = (e) => alert(response.error.name);\n      reader.readAsText(file);\n  \n\n      \n    inference(textValue).then( result => {\n      this.setState({\n        text : textValue,\n        data:result[1],\n        latency:result[0],\n      });\n    });\n\n  }\n\n\n  \n\n  // Dashboard = () => {\n  //   const [textValue, setTextValue] = useState(\"\");\n  //   const handleChange = (e) => {\n  \n  \n  \n  //     axios.get('/upload')\n  //     .then(response => {\n  //       // Convert data to CSV format(optional)\n  //       const file = response.file;\n  //     })\n  //     .catch(error => {\n  //       // Handle errors\n  //       console.error(error);\n  //     });\n  \n  \n  //     // const file = e.target.files[0];\n  \n  //     let reader = new FileReader();\n  \n  //     reader.onload = (e) => {\n  //       const file = e.target.result;\n  //       console.log(file);\n  //       setTextValue(file);\n  //     };\n  \n  //     reader.onerror = (e) => alert(e.target.error.name);\n  //     reader.readAsText(file);\n  \n  \n  //   };\n  \n  //   return (\n  //     <div className=\"Dashboard\">\n  //   {/* <div className=\"App\">  */}\n  //     <div style={{ display: \"flex\" }}>\n  //       <input type=\"file\" name=\"input\" onChange={handleChange} />\n  //       <textarea\n  //         cols={30}\n  //         rows={20}\n  //         value={textValue}\n  //         onChange={setTextValue}\n  //         style={{ marginTop: 15, width: \"50%\" }}\n  //       ></textarea>\n  //     </div>\n  \n  \n  \n  //     </div>\n  //   );\n  // };\n\n\n\n  // handleChange (event) {  \n\n  //   inference(event.target.value).then( result => {\n  //     this.setState({\n  //       text : event.target.value,\n  //       data:result[1],\n  //       latency:result[0],\n  //     });\n  //   });\n\n  // }\n  \n\n\n\n  render() {\n    return (\n      <div className=\"App\">\n\n      {/* <FileProcessing /> */}\n\n      <header className=\"App-header\">   \n      <em>In-Browser Transformer Inference</em>\n      <Chart  \n        width={'400px'}\n        height={'200px'}\n        chartType=\"BarChart\"\n        data={this.state.data}\n        options={{\n          chartArea: { width: '40%'},\n          colors: ['purple'],\n          backgroundColor: '#282c34',\n          legend: { \n            textStyle: {color: 'white', fontSize: 10},\n            labels: {fontColor:'white'}\n          },\n          vAxis: {\n            textStyle: {\n            color: 'white',\n            fontSize: 13\n          }\n          },\n          hAxis: {\n            minValue: 5,\n            maxValue: 50,\n            textStyle: {\n              color: 'white'\n            }\n          }\n      }}\n      />\n\n\n\n\n          <FileProcessing />\n\n          {/* <Dashboard /> */}\n\n\n\n        {/* <div>\n\n          {this.Dashboard()}\n        </div> */}\n\n\n\n\n\n\n      \n      {this.state.downloading && \n        <div><font size=\"2\">Downloading model from CDN to browser..</font>\n        <Box sx={{ width: '400px' }}>\n        <LinearProgress />\n        </Box> \n        <p></p>\n        </div>\n      }\n\n\n      {/* <textarea rows=\"8\" cols=\"24\" className=\"App-textarea\" name=\"message\" \n       placeholder={this.state.text} autoFocus onChange={this.handleChange}\n        \n       >\n      </textarea> */}\n\n\n      \n      {/* <textarea rows=\"8\" cols=\"24\" className=\"App-textarea\"  name=\"message\" \n      //  placeholder={this.state.text} autoFocus // onChange={this.handleChange}\n       placeholder={Dashboard.textValue} autoFocus // onChange={this.handleChange}\n      // rows=\"8\" cols=\"24\" placeholder={this.state.text}\n\n        // placeholder={this.state.text} autoFocus onChange={this.onFileChange}\n        value = {Dashboard.textValue}\n        // onChange={e => Dashboard.textarea.onChange(e.target.value)}\n        // onChange={Dashboard.setTextValue}\n        onChange={this.onFileChange}\n        // onDropRead={text => Dashboard.textarea.onChange.value}\n\n        // textareaProps={{\n        //   // cols: 24,\n        //   // rows: 8,\n        //   placeholder: \"Drop one text file here...\"\n        // } }\n\n        // onChange={this.Dashboard}  \n        // {this.Dashboard()} \n        ></textarea> */}\n\n\n\n       <div><font size=\"3\">Inference Latency {this.state.latency} ms</font></div>\n      <div><font size=\"3\">GitHub Repo: <a href=\"https://github.com/jobergum/browser-ml-inference\">browser-ml-inference</a></font></div>\n      <div><font size=\"3\">Model was trained on the <a href=\"https://ai.googleblog.com/2021/10/goemotions-dataset-for-fine-grained.html\">GoEmotions</a> dataset.</font></div>\n      \n      </header> \n\n\n    </div>   \n    );\n\n\n\n\n\n  }\n\n\n}\nexport default TextInputArea;\n\n\n\n\n\n\n\n\n\n\n// const Dashboard = () => {\n//   const [textValue, setTextValue] = useState(\"\");\n//   const handleChange = (e) => {\n//     const file = e.target.files[0];\n\n//     let reader = new FileReader();\n\n//     reader.onload = (e) => {\n//       const file = e.target.result;\n//       console.log(file);\n//       setTextValue(file);\n//     };\n\n//     reader.onerror = (e) => alert(e.target.error.name);\n//     reader.readAsText(file);\n//   };\n//   return (\n//     <div style={{ display: \"flex\" }}>\n//       <input type=\"file\" name=\"input\" onChange={handleChange} />\n//       <textarea\n//         cols={30}\n//         rows={20}\n//         value={textValue}\n//         onChange={setTextValue}\n//         style={{ marginTop: 15, width: \"50%\" }}\n//       ></textarea>\n//     </div>\n//   );\n// };\n\n\n\n// axios\n// .post(\"https://file-upload8.p.rapidapi.com/upload\", formData,\n//   {\n//     headers: {\n//       \"Content-Type\": \"multipart/form-data\",\n//       \"x-rapidapi-host\": \"file-upload8.p.rapidapi.com\",\n//       \"x-rapidapi-key\": \"54b5d42c85mshe8beeaee0224812p19c856jsn693dc0130385\",\n//     },\n//   }\n// )\n// .then((response) => {\n//   // handle the response\n//       console.log(response);\n//     })\n// .catch((error) => {\n//   // handle errors\n//   console.log(error);\n// });\n\n\n\n// state = {\n//   // Initially, no file is selected\n//   selectedFile: null\n// };\n\n// // On file select (from the pop up)\n// onFileChange = event => {\n//   // Update the state\n//   this.setState({ selectedFile: event.target.files[0] });\n// };\n\n// // On file upload (click the upload button)\n// onFileUpload = () => {\n//   // Create an object of formData\n//   const formData = new FormData();\n\n//   // Update the formData object\n//   formData.append(\n//     \"myFile\",\n//     this.state.selectedFile,\n//     this.state.selectedFile.name\n//   );\n\n//   // Details of the uploaded file\n//   console.log(this.state.selectedFile);\n\n//   // Request made to the backend api\n//   // Send formData object\n//   axios.post(\"api/uploadfile\", formData);\n// };\n\n// // File content to be displayed after\n// // file upload is complete\n// fileData = () => {\n//   if (this.state.selectedFile) {\n//     return (\n//       <div>\n//         <h2>File Details:</h2>\n//         <p>File Name: {this.state.selectedFile.name}</p>\n//         <p>File Type: {this.state.selectedFile.type}</p>\n//         <p>\n//           Last Modified:{\" \"}\n//           {this.state.selectedFile.lastModifiedDate.toDateString()}\n//         </p>\n//       </div>\n//     );\n//   } else {\n//     return (\n//       <div>\n//         <br />\n//         <h4>Choose before Pressing the Upload button</h4>\n//       </div>\n//     );\n//   }\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}