{"ast":null,"code":"import { createElement, Component, createRef, Fragment, createContext } from 'react';\nimport Script from 'react-load-script';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nfunction __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\n\nvar chartDefaultProps = {\n  graph_id: null,\n  legend_toggle: false,\n  graphID: null,\n  options: {\n    colors: null\n  },\n  data: null,\n  rows: null,\n  columns: null,\n  diffdata: null,\n  chartEvents: null,\n  legendToggle: false,\n  chartActions: null,\n  getChartWrapper: function (chartWrapper, google) {},\n  getChartEditor: null,\n  className: \"\",\n  style: {},\n  formatters: null,\n  spreadSheetUrl: null,\n  spreadSheetQueryParameters: {\n    headers: 1,\n    gid: 1\n  },\n  rootProps: {},\n  chartWrapperParams: {},\n  controls: null,\n  render: null,\n  toolbarItems: null,\n  toolbarID: null\n};\n\nvar GoogleChartLoader = function (_super) {\n  __extends(GoogleChartLoader, _super);\n\n  function GoogleChartLoader() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.handleGoogleChartsLoaderScriptLoaded = function (windowGoogleCharts) {\n      var _a = _this.props,\n          version = _a.chartVersion,\n          packages = _a.chartPackages,\n          language = _a.chartLanguage,\n          mapsApiKey = _a.mapsApiKey,\n          onLoad = _a.onLoad;\n      windowGoogleCharts.charts.load(version || \"current\", {\n        packages: packages || [\"corechart\", \"controls\"],\n        language: language || \"en\",\n        mapsApiKey: mapsApiKey\n      });\n      windowGoogleCharts.charts.setOnLoadCallback(function () {\n        onLoad(windowGoogleCharts);\n      });\n    };\n\n    return _this;\n  }\n\n  GoogleChartLoader.prototype.shouldComponentUpdate = function (nextProps) {\n    return nextProps.chartPackages === this.props.chartPackages;\n  };\n\n  GoogleChartLoader.prototype.render = function () {\n    var _this = this;\n\n    var onError = this.props.onError;\n    return createElement(Script, {\n      url: \"https://www.gstatic.com/charts/loader.js\",\n      onError: onError,\n      onLoad: function () {\n        var windowWithGoogle = window;\n\n        if (windowWithGoogle.google) {\n          _this.handleGoogleChartsLoaderScriptLoaded(windowWithGoogle.google);\n        }\n      }\n    });\n  };\n\n  return GoogleChartLoader;\n}(Component);\n\nvar uniqueID = 0;\n\nvar generateUniqueID = function () {\n  uniqueID += 1;\n  return \"reactgooglegraph-\" + uniqueID;\n};\n\nvar DEFAULT_CHART_COLORS = [\"#3366CC\", \"#DC3912\", \"#FF9900\", \"#109618\", \"#990099\", \"#3B3EAC\", \"#0099C6\", \"#DD4477\", \"#66AA00\", \"#B82E2E\", \"#316395\", \"#994499\", \"#22AA99\", \"#AAAA11\", \"#6633CC\", \"#E67300\", \"#8B0707\", \"#329262\", \"#5574A6\", \"#3B3EAC\"];\nvar _this = undefined;\n\nvar loadDataTableFromSpreadSheet = function (googleViz, spreadSheetUrl, urlParams) {\n  if (urlParams === void 0) {\n    urlParams = {};\n  }\n\n  return __awaiter(_this, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      return [2, new Promise(function (resolve, reject) {\n        var headers = \"\" + (urlParams.headers ? \"headers=\" + urlParams.headers : \"headers=0\");\n        var queryString = \"\" + (urlParams.query ? \"&tq=\" + encodeURIComponent(urlParams.query) : \"\");\n        var gid = \"\" + (urlParams.gid ? \"&gid=\" + urlParams.gid : \"\");\n        var sheet = \"\" + (urlParams.sheet ? \"&sheet=\" + urlParams.sheet : \"\");\n        var access_token = \"\" + (urlParams.access_token ? \"&access_token=\" + urlParams.access_token : \"\");\n        var urlQueryString = \"\" + headers + gid + sheet + queryString + access_token;\n        var urlToSpreadSheet = spreadSheetUrl + \"/gviz/tq?\" + urlQueryString;\n        var query = new googleViz.visualization.Query(urlToSpreadSheet);\n        query.send(function (response) {\n          if (response.isError()) {\n            reject(\"Error in query:  \" + response.getMessage() + \" \" + response.getDetailedMessage());\n          } else {\n            resolve(response.getDataTable());\n          }\n        });\n      })];\n    });\n  });\n};\n\nvar _a = createContext(chartDefaultProps),\n    Provider = _a.Provider,\n    Consumer = _a.Consumer;\n\nvar ContextProvider = function (_a) {\n  var children = _a.children,\n      value = _a.value;\n  return createElement(Provider, {\n    value: value\n  }, children);\n};\n\nvar ContextConsumer = function (_a) {\n  var render = _a.render;\n  return createElement(Consumer, null, function (context) {\n    return render(context);\n  });\n};\n\nvar GRAY_COLOR = \"#CCCCCC\";\n\nvar GoogleChartDataTableInner = function (_super) {\n  __extends(GoogleChartDataTableInner, _super);\n\n  function GoogleChartDataTableInner() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      hiddenColumns: []\n    };\n\n    _this.listenToLegendToggle = function () {\n      var _a = _this.props,\n          google = _a.google,\n          googleChartWrapper = _a.googleChartWrapper;\n      google.visualization.events.addListener(googleChartWrapper, \"select\", function () {\n        var chart = googleChartWrapper.getChart();\n        var selection = chart.getSelection();\n        var dataTable = googleChartWrapper.getDataTable();\n\n        if (selection.length === 0 || selection[0].row !== null || dataTable === null) {\n          return;\n        }\n\n        var columnIndex = selection[0].column;\n\n        var columnID = _this.getColumnID(dataTable, columnIndex);\n\n        if (_this.state.hiddenColumns.includes(columnID)) {\n          _this.setState(function (state) {\n            return __assign({}, state, {\n              hiddenColumns: state.hiddenColumns.filter(function (colID) {\n                return colID !== columnID;\n              }).slice()\n            });\n          });\n        } else {\n          _this.setState(function (state) {\n            return __assign({}, state, {\n              hiddenColumns: state.hiddenColumns.concat([columnID])\n            });\n          });\n        }\n      });\n    };\n\n    _this.applyFormatters = function (dataTable, formatters) {\n      var google = _this.props.google;\n\n      for (var _i = 0, formatters_1 = formatters; _i < formatters_1.length; _i++) {\n        var formatter = formatters_1[_i];\n\n        switch (formatter.type) {\n          case \"ArrowFormat\":\n            {\n              var vizFormatter = new google.visualization.ArrowFormat(formatter.options);\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n\n          case \"BarFormat\":\n            {\n              var vizFormatter = new google.visualization.BarFormat(formatter.options);\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n\n          case \"ColorFormat\":\n            {\n              var vizFormatter = new google.visualization.ColorFormat(formatter.options);\n              var ranges = formatter.ranges;\n\n              for (var _a = 0, ranges_1 = ranges; _a < ranges_1.length; _a++) {\n                var range = ranges_1[_a];\n                vizFormatter.addRange.apply(vizFormatter, range);\n              }\n\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n\n          case \"DateFormat\":\n            {\n              var vizFormatter = new google.visualization.DateFormat(formatter.options);\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n\n          case \"NumberFormat\":\n            {\n              var vizFormatter = new google.visualization.NumberFormat(formatter.options);\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n\n          case \"PatternFormat\":\n            {\n              var vizFormatter = new google.visualization.PatternFormat(formatter.options);\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n        }\n      }\n    };\n\n    _this.getColumnID = function (dataTable, columnIndex) {\n      return dataTable.getColumnId(columnIndex) || dataTable.getColumnLabel(columnIndex);\n    };\n\n    _this.draw = function (_a) {\n      var data = _a.data,\n          diffdata = _a.diffdata,\n          rows = _a.rows,\n          columns = _a.columns,\n          options = _a.options,\n          legend_toggle = _a.legend_toggle,\n          legendToggle = _a.legendToggle,\n          chartType = _a.chartType,\n          formatters = _a.formatters,\n          spreadSheetUrl = _a.spreadSheetUrl,\n          spreadSheetQueryParameters = _a.spreadSheetQueryParameters;\n      return __awaiter(_this, void 0, void 0, function () {\n        var _b, google, googleChartWrapper, dataTable, chartDiff, oldData, newData, columnCount, i, columnID, previousColumnLabel, previousColumnID, previousColumnType, chart;\n\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              _b = this.props, google = _b.google, googleChartWrapper = _b.googleChartWrapper;\n              chartDiff = null;\n\n              if (diffdata !== null) {\n                oldData = google.visualization.arrayToDataTable(diffdata.old);\n                newData = google.visualization.arrayToDataTable(diffdata.new);\n                chartDiff = google.visualization[chartType].prototype.computeDiff(oldData, newData);\n              }\n\n              if (!(data !== null)) return [3, 1];\n\n              if (Array.isArray(data)) {\n                dataTable = google.visualization.arrayToDataTable(data);\n              } else {\n                dataTable = new google.visualization.DataTable(data);\n              }\n\n              return [3, 5];\n\n            case 1:\n              if (!(rows !== null && columns !== null)) return [3, 2];\n              dataTable = google.visualization.arrayToDataTable([columns].concat(rows));\n              return [3, 5];\n\n            case 2:\n              if (!(spreadSheetUrl !== null)) return [3, 4];\n              return [4, loadDataTableFromSpreadSheet(google, spreadSheetUrl, spreadSheetQueryParameters)];\n\n            case 3:\n              dataTable = _c.sent();\n              return [3, 5];\n\n            case 4:\n              dataTable = google.visualization.arrayToDataTable([]);\n              _c.label = 5;\n\n            case 5:\n              columnCount = dataTable.getNumberOfColumns();\n\n              for (i = 0; i < columnCount; i += 1) {\n                columnID = this.getColumnID(dataTable, i);\n\n                if (this.state.hiddenColumns.includes(columnID)) {\n                  previousColumnLabel = dataTable.getColumnLabel(i);\n                  previousColumnID = dataTable.getColumnId(i);\n                  previousColumnType = dataTable.getColumnType(i);\n                  dataTable.removeColumn(i);\n                  dataTable.addColumn({\n                    label: previousColumnLabel,\n                    id: previousColumnID,\n                    type: previousColumnType\n                  });\n                }\n              }\n\n              chart = googleChartWrapper.getChart();\n\n              if (googleChartWrapper.getChartType() === \"Timeline\") {\n                chart && chart.clearChart();\n              }\n\n              googleChartWrapper.setChartType(chartType);\n              googleChartWrapper.setOptions(options);\n              googleChartWrapper.setDataTable(dataTable);\n              googleChartWrapper.draw();\n\n              if (this.props.googleChartDashboard !== null) {\n                this.props.googleChartDashboard.draw(dataTable);\n              }\n\n              if (chartDiff !== null) {\n                googleChartWrapper.setDataTable(chartDiff);\n                googleChartWrapper.draw();\n              }\n\n              if (formatters !== null) {\n                this.applyFormatters(dataTable, formatters);\n                googleChartWrapper.setDataTable(dataTable);\n                googleChartWrapper.draw();\n              }\n\n              if (legendToggle === true || legend_toggle === true) {\n                this.grayOutHiddenColumns({\n                  options: options\n                });\n              }\n\n              return [2];\n          }\n        });\n      });\n    };\n\n    _this.grayOutHiddenColumns = function (_a) {\n      var options = _a.options;\n      var googleChartWrapper = _this.props.googleChartWrapper;\n      var dataTable = googleChartWrapper.getDataTable();\n      if (dataTable === null) return;\n      var columnCount = dataTable.getNumberOfColumns();\n      var hasAHiddenColumn = _this.state.hiddenColumns.length > 0;\n      if (hasAHiddenColumn === false) return;\n      var colors = Array.from({\n        length: columnCount - 1\n      }).map(function (dontcare, i) {\n        var columnID = _this.getColumnID(dataTable, i + 1);\n\n        if (_this.state.hiddenColumns.includes(columnID)) {\n          return GRAY_COLOR;\n        } else if (typeof options.colors !== \"undefined\" && options.colors !== null) {\n          return options.colors[i];\n        } else {\n          return DEFAULT_CHART_COLORS[i];\n        }\n      });\n      googleChartWrapper.setOptions(__assign({}, options, {\n        colors: colors\n      }));\n      googleChartWrapper.draw();\n    };\n\n    _this.onResize = function () {\n      var googleChartWrapper = _this.props.googleChartWrapper;\n      googleChartWrapper.draw();\n    };\n\n    return _this;\n  }\n\n  GoogleChartDataTableInner.prototype.componentDidMount = function () {\n    this.draw(this.props);\n    window.addEventListener(\"resize\", this.onResize);\n\n    if (this.props.legend_toggle || this.props.legendToggle) {\n      this.listenToLegendToggle();\n    }\n  };\n\n  GoogleChartDataTableInner.prototype.componentWillUnmount = function () {\n    var _a = this.props,\n        google = _a.google,\n        googleChartWrapper = _a.googleChartWrapper;\n    window.removeEventListener(\"resize\", this.onResize);\n    google.visualization.events.removeAllListeners(googleChartWrapper);\n\n    if (googleChartWrapper.getChartType() === \"Timeline\") {\n      googleChartWrapper.getChart() && googleChartWrapper.getChart().clearChart();\n    }\n  };\n\n  GoogleChartDataTableInner.prototype.componentDidUpdate = function () {\n    this.draw(this.props);\n  };\n\n  GoogleChartDataTableInner.prototype.render = function () {\n    return null;\n  };\n\n  return GoogleChartDataTableInner;\n}(Component);\n\nvar GoogleChartDataTable = function (_super) {\n  __extends(GoogleChartDataTable, _super);\n\n  function GoogleChartDataTable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GoogleChartDataTable.prototype.componentDidMount = function () {};\n\n  GoogleChartDataTable.prototype.componentWillUnmount = function () {};\n\n  GoogleChartDataTable.prototype.shouldComponentUpdate = function () {\n    return false;\n  };\n\n  GoogleChartDataTable.prototype.render = function () {\n    var _a = this.props,\n        google = _a.google,\n        googleChartWrapper = _a.googleChartWrapper,\n        googleChartDashboard = _a.googleChartDashboard;\n    return createElement(ContextConsumer, {\n      render: function (props) {\n        return createElement(GoogleChartDataTableInner, __assign({}, props, {\n          google: google,\n          googleChartWrapper: googleChartWrapper,\n          googleChartDashboard: googleChartDashboard\n        }));\n      }\n    });\n  };\n\n  return GoogleChartDataTable;\n}(Component);\n\nvar GoogleChartEvents = function (_super) {\n  __extends(GoogleChartEvents, _super);\n\n  function GoogleChartEvents() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GoogleChartEvents.prototype.shouldComponentUpdate = function () {\n    return false;\n  };\n\n  GoogleChartEvents.prototype.listenToEvents = function (_a) {\n    var _this = this;\n\n    var chartEvents = _a.chartEvents,\n        google = _a.google,\n        googleChartWrapper = _a.googleChartWrapper;\n\n    if (chartEvents === null) {\n      return;\n    }\n\n    google.visualization.events.removeAllListeners(googleChartWrapper);\n\n    var _loop_1 = function (event_1) {\n      var eventName = event_1.eventName,\n          callback = event_1.callback;\n      google.visualization.events.addListener(googleChartWrapper, eventName, function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        callback({\n          chartWrapper: googleChartWrapper,\n          props: _this.props,\n          google: google,\n          eventArgs: args\n        });\n      });\n    };\n\n    for (var _i = 0, chartEvents_1 = chartEvents; _i < chartEvents_1.length; _i++) {\n      var event_1 = chartEvents_1[_i];\n\n      _loop_1(event_1);\n    }\n  };\n\n  GoogleChartEvents.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        google = _a.google,\n        googleChartWrapper = _a.googleChartWrapper;\n    return createElement(ContextConsumer, {\n      render: function (propsFromContext) {\n        _this.listenToEvents({\n          chartEvents: propsFromContext.chartEvents || null,\n          google: google,\n          googleChartWrapper: googleChartWrapper\n        });\n\n        return null;\n      }\n    });\n  };\n\n  return GoogleChartEvents;\n}(Component);\n\nvar controlCounter = 0;\n\nvar GoogleChart = function (_super) {\n  __extends(GoogleChart, _super);\n\n  function GoogleChart() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      googleChartWrapper: null,\n      googleChartDashboard: null,\n      googleChartControls: null,\n      googleChartEditor: null,\n      isReady: false\n    };\n    _this.graphID = null;\n    _this.dashboard_ref = createRef();\n    _this.toolbar_ref = createRef();\n\n    _this.getGraphID = function () {\n      var _a = _this.props,\n          graphID = _a.graphID,\n          graph_id = _a.graph_id;\n      var instanceGraphID;\n\n      if (graphID === null && graph_id === null) {\n        if (_this.graphID === null) {\n          instanceGraphID = generateUniqueID();\n        } else {\n          instanceGraphID = _this.graphID;\n        }\n      } else if (graphID !== null && graph_id === null) {\n        instanceGraphID = graphID;\n      } else if (graph_id !== null && graphID === null) {\n        instanceGraphID = graph_id;\n      } else {\n        instanceGraphID = graphID;\n      }\n\n      _this.graphID = instanceGraphID;\n      return _this.graphID;\n    };\n\n    _this.getControlID = function (id, index) {\n      controlCounter += 1;\n      var controlID;\n\n      if (typeof id === \"undefined\") {\n        controlID = \"googlechart-control-\" + index + \"-\" + controlCounter;\n      } else {\n        controlID = id;\n      }\n\n      return controlID;\n    };\n\n    _this.addControls = function (googleChartWrapper, googleChartDashboard) {\n      var _a = _this.props,\n          google = _a.google,\n          controls = _a.controls;\n      var googleChartControls = controls === null ? null : controls.map(function (control, i) {\n        var controlIDMaybe = control.controlID,\n            controlType = control.controlType,\n            controlOptions = control.options,\n            controlWrapperParams = control.controlWrapperParams;\n\n        var controlID = _this.getControlID(controlIDMaybe, i);\n\n        return {\n          controlProp: control,\n          control: new google.visualization.ControlWrapper(__assign({\n            containerId: controlID,\n            controlType: controlType,\n            options: controlOptions\n          }, controlWrapperParams))\n        };\n      });\n\n      if (googleChartControls === null) {\n        return null;\n      }\n\n      googleChartDashboard.bind(googleChartControls.map(function (_a) {\n        var control = _a.control;\n        return control;\n      }), googleChartWrapper);\n\n      var _loop_1 = function (chartControl) {\n        var control = chartControl.control,\n            controlProp = chartControl.controlProp;\n        var _a = controlProp.controlEvents,\n            controlEvents = _a === void 0 ? [] : _a;\n\n        var _loop_2 = function (event_1) {\n          var callback = event_1.callback,\n              eventName = event_1.eventName;\n          google.visualization.events.removeListener(control, eventName, callback);\n          google.visualization.events.addListener(control, eventName, function () {\n            var args = [];\n\n            for (var _i = 0; _i < arguments.length; _i++) {\n              args[_i] = arguments[_i];\n            }\n\n            callback({\n              chartWrapper: googleChartWrapper,\n              controlWrapper: control,\n              props: _this.props,\n              google: google,\n              eventArgs: args\n            });\n          });\n        };\n\n        for (var _i = 0, controlEvents_1 = controlEvents; _i < controlEvents_1.length; _i++) {\n          var event_1 = controlEvents_1[_i];\n\n          _loop_2(event_1);\n        }\n      };\n\n      for (var _i = 0, googleChartControls_1 = googleChartControls; _i < googleChartControls_1.length; _i++) {\n        var chartControl = googleChartControls_1[_i];\n\n        _loop_1(chartControl);\n      }\n\n      return googleChartControls;\n    };\n\n    _this.renderChart = function () {\n      var _a = _this.props,\n          width = _a.width,\n          height = _a.height,\n          options = _a.options,\n          style = _a.style,\n          className = _a.className,\n          rootProps = _a.rootProps,\n          google = _a.google;\n\n      var divStyle = __assign({\n        height: height || options && options.height,\n        width: width || options && options.width\n      }, style);\n\n      return createElement(\"div\", __assign({\n        id: _this.getGraphID(),\n        style: divStyle,\n        className: className\n      }, rootProps), _this.state.isReady && _this.state.googleChartWrapper !== null ? createElement(Fragment, null, createElement(GoogleChartDataTable, {\n        googleChartWrapper: _this.state.googleChartWrapper,\n        google: google,\n        googleChartDashboard: _this.state.googleChartDashboard\n      }), createElement(GoogleChartEvents, {\n        googleChartWrapper: _this.state.googleChartWrapper,\n        google: google\n      })) : null);\n    };\n\n    _this.renderControl = function (filter) {\n      if (filter === void 0) {\n        filter = function (_a) {\n          var control = _a.control,\n              controlProp = _a.controlProp;\n          return true;\n        };\n      }\n\n      return _this.state.isReady && _this.state.googleChartControls !== null ? createElement(Fragment, null, _this.state.googleChartControls.filter(function (_a) {\n        var controlProp = _a.controlProp,\n            control = _a.control;\n        return filter({\n          control: control,\n          controlProp: controlProp\n        });\n      }).map(function (_a) {\n        var control = _a.control,\n            controlProp = _a.controlProp;\n        return createElement(\"div\", {\n          key: control.getContainerId(),\n          id: control.getContainerId()\n        });\n      })) : null;\n    };\n\n    _this.renderToolBar = function () {\n      if (_this.props.toolbarItems === null) return null;\n      return createElement(\"div\", {\n        ref: _this.toolbar_ref\n      });\n    };\n\n    return _this;\n  }\n\n  GoogleChart.prototype.componentDidMount = function () {\n    var _a = this.props,\n        options = _a.options,\n        google = _a.google,\n        chartType = _a.chartType,\n        chartWrapperParams = _a.chartWrapperParams,\n        toolbarItems = _a.toolbarItems,\n        getChartEditor = _a.getChartEditor,\n        getChartWrapper = _a.getChartWrapper;\n\n    var chartConfig = __assign({\n      chartType: chartType,\n      options: options,\n      containerId: this.getGraphID()\n    }, chartWrapperParams);\n\n    var googleChartWrapper = new google.visualization.ChartWrapper(chartConfig);\n    googleChartWrapper.setOptions(options);\n    getChartWrapper(googleChartWrapper, google);\n    var googleChartDashboard = new google.visualization.Dashboard(this.dashboard_ref);\n    var googleChartControls = this.addControls(googleChartWrapper, googleChartDashboard);\n\n    if (toolbarItems !== null) {\n      google.visualization.drawToolbar(this.toolbar_ref.current, toolbarItems);\n    }\n\n    var googleChartEditor = null;\n\n    if (getChartEditor !== null) {\n      googleChartEditor = new google.visualization.ChartEditor();\n      getChartEditor({\n        chartEditor: googleChartEditor,\n        chartWrapper: googleChartWrapper,\n        google: google\n      });\n    }\n\n    this.setState({\n      googleChartEditor: googleChartEditor,\n      googleChartControls: googleChartControls,\n      googleChartDashboard: googleChartDashboard,\n      googleChartWrapper: googleChartWrapper,\n      isReady: true\n    });\n  };\n\n  GoogleChart.prototype.componentDidUpdate = function () {\n    if (this.state.googleChartWrapper === null) return;\n    if (this.state.googleChartDashboard === null) return;\n    if (this.state.googleChartControls === null) return;\n    var controls = this.props.controls;\n\n    for (var i = 0; i < controls.length; i += 1) {\n      var _a = controls[i],\n          controlType = _a.controlType,\n          options = _a.options,\n          controlWrapperParams = _a.controlWrapperParams;\n\n      if (controlWrapperParams && \"state\" in controlWrapperParams) {\n        this.state.googleChartControls[i].control.setState(controlWrapperParams[\"state\"]);\n      }\n\n      this.state.googleChartControls[i].control.setOptions(options);\n      this.state.googleChartControls[i].control.setControlType(controlType);\n    }\n  };\n\n  GoogleChart.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n    return this.state.isReady !== nextState.isReady || nextProps.controls !== this.props.controls;\n  };\n\n  GoogleChart.prototype.render = function () {\n    var _a = this.props,\n        width = _a.width,\n        height = _a.height,\n        options = _a.options,\n        style = _a.style;\n\n    var divStyle = __assign({\n      height: height || options && options.height,\n      width: width || options && options.width\n    }, style);\n\n    if (this.props.render !== null) {\n      return createElement(\"div\", {\n        ref: this.dashboard_ref,\n        style: divStyle\n      }, createElement(\"div\", {\n        ref: this.toolbar_ref,\n        id: \"toolbar\"\n      }), this.props.render({\n        renderChart: this.renderChart,\n        renderControl: this.renderControl,\n        renderToolbar: this.renderToolBar\n      }));\n    } else {\n      return createElement(\"div\", {\n        ref: this.dashboard_ref,\n        style: divStyle\n      }, this.renderControl(function (_a) {\n        var controlProp = _a.controlProp;\n        return controlProp.controlPosition !== \"bottom\";\n      }), this.renderChart(), this.renderControl(function (_a) {\n        var controlProp = _a.controlProp;\n        return controlProp.controlPosition === \"bottom\";\n      }), this.renderToolBar());\n    }\n  };\n\n  return GoogleChart;\n}(Component);\n\nvar Chart = function (_super) {\n  __extends(Chart, _super);\n\n  function Chart() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._isMounted = false;\n    _this.state = {\n      loadingStatus: \"loading\",\n      google: null\n    };\n\n    _this.onLoad = function (google) {\n      if (_this.isFullyLoaded(google)) {\n        _this.onSuccess(google);\n      } else {\n        var id_1 = setInterval(function () {\n          var google = window.google;\n\n          if (_this._isMounted) {\n            if (google && _this.isFullyLoaded(google)) {\n              clearInterval(id_1);\n\n              _this.onSuccess(google);\n            }\n          } else {\n            clearInterval(id_1);\n          }\n        }, 1000);\n      }\n    };\n\n    _this.onSuccess = function (google) {\n      _this.setState({\n        loadingStatus: \"ready\",\n        google: google\n      });\n    };\n\n    _this.onError = function () {\n      _this.setState({\n        loadingStatus: \"errored\"\n      });\n    };\n\n    return _this;\n  }\n\n  Chart.prototype.render = function () {\n    var _a = this.props,\n        chartLanguage = _a.chartLanguage,\n        chartPackages = _a.chartPackages,\n        chartVersion = _a.chartVersion,\n        mapsApiKey = _a.mapsApiKey,\n        loader = _a.loader,\n        errorElement = _a.errorElement;\n    return createElement(ContextProvider, {\n      value: this.props\n    }, this.state.loadingStatus === \"ready\" && this.state.google !== null ? createElement(GoogleChart, __assign({}, this.props, {\n      google: this.state.google\n    })) : this.state.loadingStatus === \"errored\" && errorElement ? errorElement : loader, createElement(GoogleChartLoader, __assign({}, {\n      chartLanguage: chartLanguage,\n      chartPackages: chartPackages,\n      chartVersion: chartVersion,\n      mapsApiKey: mapsApiKey\n    }, {\n      onLoad: this.onLoad,\n      onError: this.onError\n    })));\n  };\n\n  Chart.prototype.componentDidMount = function () {\n    this._isMounted = true;\n  };\n\n  Chart.prototype.componentWillUnmount = function () {\n    this._isMounted = false;\n  };\n\n  Chart.prototype.isFullyLoaded = function (google) {\n    var _a = this.props,\n        controls = _a.controls,\n        toolbarItems = _a.toolbarItems,\n        getChartEditor = _a.getChartEditor;\n    return google && google.visualization && google.visualization.ChartWrapper && google.visualization.Dashboard && (!controls || google.visualization.ChartWrapper) && (!getChartEditor || google.visualization.ChartEditor) && (!toolbarItems || google.visualization.drawToolbar);\n  };\n\n  Chart.defaultProps = chartDefaultProps;\n  return Chart;\n}(Component);\n\nexport default Chart;\nexport { Chart };","map":{"version":3,"names":["createElement","Component","createRef","Fragment","createContext","Script","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","chartDefaultProps","graph_id","legend_toggle","graphID","options","colors","data","rows","columns","diffdata","chartEvents","legendToggle","chartActions","getChartWrapper","chartWrapper","google","getChartEditor","className","style","formatters","spreadSheetUrl","spreadSheetQueryParameters","headers","gid","rootProps","chartWrapperParams","controls","render","toolbarItems","toolbarID","GoogleChartLoader","_super","_this","handleGoogleChartsLoaderScriptLoaded","windowGoogleCharts","_a","props","version","chartVersion","packages","chartPackages","language","chartLanguage","mapsApiKey","onLoad","charts","load","setOnLoadCallback","shouldComponentUpdate","nextProps","onError","url","windowWithGoogle","window","uniqueID","generateUniqueID","DEFAULT_CHART_COLORS","undefined","loadDataTableFromSpreadSheet","googleViz","urlParams","queryString","query","encodeURIComponent","sheet","access_token","urlQueryString","urlToSpreadSheet","visualization","Query","send","response","isError","getMessage","getDetailedMessage","getDataTable","Provider","Consumer","ContextProvider","children","ContextConsumer","context","GRAY_COLOR","GoogleChartDataTableInner","state","hiddenColumns","listenToLegendToggle","googleChartWrapper","events","addListener","chart","getChart","selection","getSelection","dataTable","row","columnIndex","column","columnID","getColumnID","includes","setState","filter","colID","slice","concat","applyFormatters","_i","formatters_1","formatter","type","vizFormatter","ArrowFormat","format","BarFormat","ColorFormat","ranges","ranges_1","range","addRange","DateFormat","NumberFormat","PatternFormat","getColumnId","getColumnLabel","draw","chartType","_b","chartDiff","oldData","newData","columnCount","previousColumnLabel","previousColumnID","previousColumnType","_c","arrayToDataTable","old","new","computeDiff","isArray","DataTable","getNumberOfColumns","getColumnType","removeColumn","addColumn","id","getChartType","clearChart","setChartType","setOptions","setDataTable","googleChartDashboard","grayOutHiddenColumns","hasAHiddenColumn","from","map","dontcare","onResize","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","removeAllListeners","componentDidUpdate","GoogleChartDataTable","GoogleChartEvents","listenToEvents","_loop_1","event_1","eventName","callback","args","eventArgs","chartEvents_1","propsFromContext","controlCounter","GoogleChart","googleChartControls","googleChartEditor","isReady","dashboard_ref","toolbar_ref","getGraphID","instanceGraphID","getControlID","index","controlID","addControls","control","controlIDMaybe","controlType","controlOptions","controlWrapperParams","controlProp","ControlWrapper","containerId","bind","chartControl","controlEvents","_loop_2","removeListener","controlWrapper","controlEvents_1","googleChartControls_1","renderChart","width","height","divStyle","renderControl","key","getContainerId","renderToolBar","ref","chartConfig","ChartWrapper","Dashboard","drawToolbar","current","ChartEditor","chartEditor","setControlType","nextState","renderToolbar","controlPosition","Chart","_isMounted","loadingStatus","isFullyLoaded","onSuccess","id_1","setInterval","clearInterval","loader","errorElement","defaultProps"],"sources":["/Users/nguyentrungchinh/project_14/node_modules/react-google-charts/dist/index.esm.js"],"sourcesContent":["import { createElement, Component, createRef, Fragment, createContext } from 'react';\nimport Script from 'react-load-script';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar chartDefaultProps = {\r\n    graph_id: null,\r\n    legend_toggle: false,\r\n    graphID: null,\r\n    options: {\r\n        colors: null\r\n    },\r\n    data: null,\r\n    rows: null,\r\n    columns: null,\r\n    diffdata: null,\r\n    chartEvents: null,\r\n    legendToggle: false,\r\n    chartActions: null,\r\n    getChartWrapper: function (chartWrapper, google) { },\r\n    getChartEditor: null,\r\n    className: \"\",\r\n    style: {},\r\n    formatters: null,\r\n    spreadSheetUrl: null,\r\n    spreadSheetQueryParameters: {\r\n        headers: 1,\r\n        gid: 1\r\n    },\r\n    rootProps: {},\r\n    chartWrapperParams: {},\r\n    controls: null,\r\n    render: null,\r\n    toolbarItems: null,\r\n    toolbarID: null\r\n};\n\nvar GoogleChartLoader = (function (_super) {\r\n    __extends(GoogleChartLoader, _super);\r\n    function GoogleChartLoader() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.handleGoogleChartsLoaderScriptLoaded = function (windowGoogleCharts) {\r\n            var _a = _this.props, version = _a.chartVersion, packages = _a.chartPackages, language = _a.chartLanguage, mapsApiKey = _a.mapsApiKey, onLoad = _a.onLoad;\r\n            windowGoogleCharts.charts.load(version || \"current\", {\r\n                packages: packages || [\"corechart\", \"controls\"],\r\n                language: language || \"en\",\r\n                mapsApiKey: mapsApiKey\r\n            });\r\n            windowGoogleCharts.charts.setOnLoadCallback(function () {\r\n                onLoad(windowGoogleCharts);\r\n            });\r\n        };\r\n        return _this;\r\n    }\r\n    GoogleChartLoader.prototype.shouldComponentUpdate = function (nextProps) {\r\n        return nextProps.chartPackages === this.props.chartPackages;\r\n    };\r\n    GoogleChartLoader.prototype.render = function () {\r\n        var _this = this;\r\n        var onError = this.props.onError;\r\n        return (createElement(Script, { url: \"https://www.gstatic.com/charts/loader.js\", onError: onError, onLoad: function () {\r\n                var windowWithGoogle = window;\r\n                if (windowWithGoogle.google) {\r\n                    _this.handleGoogleChartsLoaderScriptLoaded(windowWithGoogle.google);\r\n                }\r\n            } }));\r\n    };\r\n    return GoogleChartLoader;\r\n}(Component));\n\nvar uniqueID = 0;\r\nvar generateUniqueID = function () {\r\n    uniqueID += 1;\r\n    return \"reactgooglegraph-\" + uniqueID;\r\n};\n\nvar DEFAULT_CHART_COLORS = [\r\n    \"#3366CC\",\r\n    \"#DC3912\",\r\n    \"#FF9900\",\r\n    \"#109618\",\r\n    \"#990099\",\r\n    \"#3B3EAC\",\r\n    \"#0099C6\",\r\n    \"#DD4477\",\r\n    \"#66AA00\",\r\n    \"#B82E2E\",\r\n    \"#316395\",\r\n    \"#994499\",\r\n    \"#22AA99\",\r\n    \"#AAAA11\",\r\n    \"#6633CC\",\r\n    \"#E67300\",\r\n    \"#8B0707\",\r\n    \"#329262\",\r\n    \"#5574A6\",\r\n    \"#3B3EAC\"\r\n];\n\nvar _this = undefined;\r\nvar loadDataTableFromSpreadSheet = function (googleViz, spreadSheetUrl, urlParams) {\r\n    if (urlParams === void 0) { urlParams = {}; }\r\n    return __awaiter(_this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2, new Promise(function (resolve, reject) {\r\n                    var headers = \"\" + (urlParams.headers ? \"headers=\" + urlParams.headers : \"headers=0\");\r\n                    var queryString = \"\" + (urlParams.query ? \"&tq=\" + encodeURIComponent(urlParams.query) : \"\");\r\n                    var gid = \"\" + (urlParams.gid ? \"&gid=\" + urlParams.gid : \"\");\r\n                    var sheet = \"\" + (urlParams.sheet ? \"&sheet=\" + urlParams.sheet : \"\");\r\n                    var access_token = \"\" + (urlParams.access_token ? \"&access_token=\" + urlParams.access_token : \"\");\r\n                    var urlQueryString = \"\" + headers + gid + sheet + queryString + access_token;\r\n                    var urlToSpreadSheet = spreadSheetUrl + \"/gviz/tq?\" + urlQueryString;\r\n                    var query = new googleViz.visualization.Query(urlToSpreadSheet);\r\n                    query.send(function (response) {\r\n                        if (response.isError()) {\r\n                            reject(\"Error in query:  \" + response.getMessage() + \" \" + response.getDetailedMessage());\r\n                        }\r\n                        else {\r\n                            resolve(response.getDataTable());\r\n                        }\r\n                    });\r\n                })];\r\n        });\r\n    });\r\n};\n\nvar _a = createContext(chartDefaultProps), Provider = _a.Provider, Consumer = _a.Consumer;\r\nvar ContextProvider = function (_a) {\r\n    var children = _a.children, value = _a.value;\r\n    return createElement(Provider, { value: value }, children);\r\n};\r\nvar ContextConsumer = function (_a) {\r\n    var render = _a.render;\r\n    return (createElement(Consumer, null, function (context) {\r\n        return render(context);\r\n    }));\r\n};\n\nvar GRAY_COLOR = \"#CCCCCC\";\r\nvar GoogleChartDataTableInner = (function (_super) {\r\n    __extends(GoogleChartDataTableInner, _super);\r\n    function GoogleChartDataTableInner() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            hiddenColumns: []\r\n        };\r\n        _this.listenToLegendToggle = function () {\r\n            var _a = _this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n            google.visualization.events.addListener(googleChartWrapper, \"select\", function () {\r\n                var chart = googleChartWrapper.getChart();\r\n                var selection = chart.getSelection();\r\n                var dataTable = googleChartWrapper.getDataTable();\r\n                if (selection.length === 0 ||\r\n                    selection[0].row !== null ||\r\n                    dataTable === null) {\r\n                    return;\r\n                }\r\n                var columnIndex = selection[0].column;\r\n                var columnID = _this.getColumnID(dataTable, columnIndex);\r\n                if (_this.state.hiddenColumns.includes(columnID)) {\r\n                    _this.setState(function (state) { return (__assign({}, state, { hiddenColumns: state.hiddenColumns.filter(function (colID) { return colID !== columnID; }).slice() })); });\r\n                }\r\n                else {\r\n                    _this.setState(function (state) { return (__assign({}, state, { hiddenColumns: state.hiddenColumns.concat([columnID]) })); });\r\n                }\r\n            });\r\n        };\r\n        _this.applyFormatters = function (dataTable, formatters) {\r\n            var google = _this.props.google;\r\n            for (var _i = 0, formatters_1 = formatters; _i < formatters_1.length; _i++) {\r\n                var formatter = formatters_1[_i];\r\n                switch (formatter.type) {\r\n                    case \"ArrowFormat\": {\r\n                        var vizFormatter = new google.visualization.ArrowFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"BarFormat\": {\r\n                        var vizFormatter = new google.visualization.BarFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"ColorFormat\": {\r\n                        var vizFormatter = new google.visualization.ColorFormat(formatter.options);\r\n                        var ranges = formatter.ranges;\r\n                        for (var _a = 0, ranges_1 = ranges; _a < ranges_1.length; _a++) {\r\n                            var range = ranges_1[_a];\r\n                            vizFormatter.addRange.apply(vizFormatter, range);\r\n                        }\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"DateFormat\": {\r\n                        var vizFormatter = new google.visualization.DateFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"NumberFormat\": {\r\n                        var vizFormatter = new google.visualization.NumberFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"PatternFormat\": {\r\n                        var vizFormatter = new google.visualization.PatternFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        _this.getColumnID = function (dataTable, columnIndex) {\r\n            return (dataTable.getColumnId(columnIndex) ||\r\n                dataTable.getColumnLabel(columnIndex));\r\n        };\r\n        _this.draw = function (_a) {\r\n            var data = _a.data, diffdata = _a.diffdata, rows = _a.rows, columns = _a.columns, options = _a.options, legend_toggle = _a.legend_toggle, legendToggle = _a.legendToggle, chartType = _a.chartType, formatters = _a.formatters, spreadSheetUrl = _a.spreadSheetUrl, spreadSheetQueryParameters = _a.spreadSheetQueryParameters;\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                var _b, google, googleChartWrapper, dataTable, chartDiff, oldData, newData, columnCount, i, columnID, previousColumnLabel, previousColumnID, previousColumnType, chart;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            _b = this.props, google = _b.google, googleChartWrapper = _b.googleChartWrapper;\r\n                            chartDiff = null;\r\n                            if (diffdata !== null) {\r\n                                oldData = google.visualization.arrayToDataTable(diffdata.old);\r\n                                newData = google.visualization.arrayToDataTable(diffdata.new);\r\n                                chartDiff = google.visualization[chartType].prototype.computeDiff(oldData, newData);\r\n                            }\r\n                            if (!(data !== null)) return [3, 1];\r\n                            if (Array.isArray(data)) {\r\n                                dataTable = google.visualization.arrayToDataTable(data);\r\n                            }\r\n                            else {\r\n                                dataTable = new google.visualization.DataTable(data);\r\n                            }\r\n                            return [3, 5];\r\n                        case 1:\r\n                            if (!(rows !== null && columns !== null)) return [3, 2];\r\n                            dataTable = google.visualization.arrayToDataTable([columns].concat(rows));\r\n                            return [3, 5];\r\n                        case 2:\r\n                            if (!(spreadSheetUrl !== null)) return [3, 4];\r\n                            return [4, loadDataTableFromSpreadSheet(google, spreadSheetUrl, spreadSheetQueryParameters)];\r\n                        case 3:\r\n                            dataTable = (_c.sent());\r\n                            return [3, 5];\r\n                        case 4:\r\n                            dataTable = google.visualization.arrayToDataTable([]);\r\n                            _c.label = 5;\r\n                        case 5:\r\n                            columnCount = dataTable.getNumberOfColumns();\r\n                            for (i = 0; i < columnCount; i += 1) {\r\n                                columnID = this.getColumnID(dataTable, i);\r\n                                if (this.state.hiddenColumns.includes(columnID)) {\r\n                                    previousColumnLabel = dataTable.getColumnLabel(i);\r\n                                    previousColumnID = dataTable.getColumnId(i);\r\n                                    previousColumnType = dataTable.getColumnType(i);\r\n                                    dataTable.removeColumn(i);\r\n                                    dataTable.addColumn({\r\n                                        label: previousColumnLabel,\r\n                                        id: previousColumnID,\r\n                                        type: previousColumnType\r\n                                    });\r\n                                }\r\n                            }\r\n                            chart = googleChartWrapper.getChart();\r\n                            if (googleChartWrapper.getChartType() === \"Timeline\") {\r\n                                chart && chart.clearChart();\r\n                            }\r\n                            googleChartWrapper.setChartType(chartType);\r\n                            googleChartWrapper.setOptions(options);\r\n                            googleChartWrapper.setDataTable(dataTable);\r\n                            googleChartWrapper.draw();\r\n                            if (this.props.googleChartDashboard !== null) {\r\n                                this.props.googleChartDashboard.draw(dataTable);\r\n                            }\r\n                            if (chartDiff !== null) {\r\n                                googleChartWrapper.setDataTable(chartDiff);\r\n                                googleChartWrapper.draw();\r\n                            }\r\n                            if (formatters !== null) {\r\n                                this.applyFormatters(dataTable, formatters);\r\n                                googleChartWrapper.setDataTable(dataTable);\r\n                                googleChartWrapper.draw();\r\n                            }\r\n                            if (legendToggle === true || legend_toggle === true) {\r\n                                this.grayOutHiddenColumns({ options: options });\r\n                            }\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        _this.grayOutHiddenColumns = function (_a) {\r\n            var options = _a.options;\r\n            var googleChartWrapper = _this.props.googleChartWrapper;\r\n            var dataTable = googleChartWrapper.getDataTable();\r\n            if (dataTable === null)\r\n                return;\r\n            var columnCount = dataTable.getNumberOfColumns();\r\n            var hasAHiddenColumn = _this.state.hiddenColumns.length > 0;\r\n            if (hasAHiddenColumn === false)\r\n                return;\r\n            var colors = Array.from({ length: columnCount - 1 }).map(function (dontcare, i) {\r\n                var columnID = _this.getColumnID(dataTable, i + 1);\r\n                if (_this.state.hiddenColumns.includes(columnID)) {\r\n                    return GRAY_COLOR;\r\n                }\r\n                else if (typeof options.colors !== \"undefined\" &&\r\n                    options.colors !== null) {\r\n                    return options.colors[i];\r\n                }\r\n                else {\r\n                    return DEFAULT_CHART_COLORS[i];\r\n                }\r\n            });\r\n            googleChartWrapper.setOptions(__assign({}, options, { colors: colors }));\r\n            googleChartWrapper.draw();\r\n        };\r\n        _this.onResize = function () {\r\n            var googleChartWrapper = _this.props.googleChartWrapper;\r\n            googleChartWrapper.draw();\r\n        };\r\n        return _this;\r\n    }\r\n    GoogleChartDataTableInner.prototype.componentDidMount = function () {\r\n        this.draw(this.props);\r\n        window.addEventListener(\"resize\", this.onResize);\r\n        if (this.props.legend_toggle || this.props.legendToggle) {\r\n            this.listenToLegendToggle();\r\n        }\r\n    };\r\n    GoogleChartDataTableInner.prototype.componentWillUnmount = function () {\r\n        var _a = this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n        window.removeEventListener(\"resize\", this.onResize);\r\n        google.visualization.events.removeAllListeners(googleChartWrapper);\r\n        if (googleChartWrapper.getChartType() === \"Timeline\") {\r\n            googleChartWrapper.getChart() &&\r\n                googleChartWrapper.getChart().clearChart();\r\n        }\r\n    };\r\n    GoogleChartDataTableInner.prototype.componentDidUpdate = function () {\r\n        this.draw(this.props);\r\n    };\r\n    GoogleChartDataTableInner.prototype.render = function () {\r\n        return null;\r\n    };\r\n    return GoogleChartDataTableInner;\r\n}(Component));\r\nvar GoogleChartDataTable = (function (_super) {\r\n    __extends(GoogleChartDataTable, _super);\r\n    function GoogleChartDataTable() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    GoogleChartDataTable.prototype.componentDidMount = function () { };\r\n    GoogleChartDataTable.prototype.componentWillUnmount = function () { };\r\n    GoogleChartDataTable.prototype.shouldComponentUpdate = function () {\r\n        return false;\r\n    };\r\n    GoogleChartDataTable.prototype.render = function () {\r\n        var _a = this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper, googleChartDashboard = _a.googleChartDashboard;\r\n        return (createElement(ContextConsumer, { render: function (props) {\r\n                return (createElement(GoogleChartDataTableInner, __assign({}, props, { google: google, googleChartWrapper: googleChartWrapper, googleChartDashboard: googleChartDashboard })));\r\n            } }));\r\n    };\r\n    return GoogleChartDataTable;\r\n}(Component));\n\nvar GoogleChartEvents = (function (_super) {\r\n    __extends(GoogleChartEvents, _super);\r\n    function GoogleChartEvents() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    GoogleChartEvents.prototype.shouldComponentUpdate = function () {\r\n        return false;\r\n    };\r\n    GoogleChartEvents.prototype.listenToEvents = function (_a) {\r\n        var _this = this;\r\n        var chartEvents = _a.chartEvents, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n        if (chartEvents === null) {\r\n            return;\r\n        }\r\n        google.visualization.events.removeAllListeners(googleChartWrapper);\r\n        var _loop_1 = function (event_1) {\r\n            var eventName = event_1.eventName, callback = event_1.callback;\r\n            google.visualization.events.addListener(googleChartWrapper, eventName, function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                callback({\r\n                    chartWrapper: googleChartWrapper,\r\n                    props: _this.props,\r\n                    google: google,\r\n                    eventArgs: args\r\n                });\r\n            });\r\n        };\r\n        for (var _i = 0, chartEvents_1 = chartEvents; _i < chartEvents_1.length; _i++) {\r\n            var event_1 = chartEvents_1[_i];\r\n            _loop_1(event_1);\r\n        }\r\n    };\r\n    GoogleChartEvents.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n        return (createElement(ContextConsumer, { render: function (propsFromContext) {\r\n                _this.listenToEvents({\r\n                    chartEvents: propsFromContext.chartEvents || null,\r\n                    google: google,\r\n                    googleChartWrapper: googleChartWrapper\r\n                });\r\n                return null;\r\n            } }));\r\n    };\r\n    return GoogleChartEvents;\r\n}(Component));\n\nvar controlCounter = 0;\r\nvar GoogleChart = (function (_super) {\r\n    __extends(GoogleChart, _super);\r\n    function GoogleChart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            googleChartWrapper: null,\r\n            googleChartDashboard: null,\r\n            googleChartControls: null,\r\n            googleChartEditor: null,\r\n            isReady: false\r\n        };\r\n        _this.graphID = null;\r\n        _this.dashboard_ref = createRef();\r\n        _this.toolbar_ref = createRef();\r\n        _this.getGraphID = function () {\r\n            var _a = _this.props, graphID = _a.graphID, graph_id = _a.graph_id;\r\n            var instanceGraphID;\r\n            if (graphID === null && graph_id === null) {\r\n                if (_this.graphID === null) {\r\n                    instanceGraphID = generateUniqueID();\r\n                }\r\n                else {\r\n                    instanceGraphID = _this.graphID;\r\n                }\r\n            }\r\n            else if (graphID !== null && graph_id === null) {\r\n                instanceGraphID = graphID;\r\n            }\r\n            else if (graph_id !== null && graphID === null) {\r\n                instanceGraphID = graph_id;\r\n            }\r\n            else {\r\n                instanceGraphID = graphID;\r\n            }\r\n            _this.graphID = instanceGraphID;\r\n            return _this.graphID;\r\n        };\r\n        _this.getControlID = function (id, index) {\r\n            controlCounter += 1;\r\n            var controlID;\r\n            if (typeof id === \"undefined\") {\r\n                controlID = \"googlechart-control-\" + index + \"-\" + controlCounter;\r\n            }\r\n            else {\r\n                controlID = id;\r\n            }\r\n            return controlID;\r\n        };\r\n        _this.addControls = function (googleChartWrapper, googleChartDashboard) {\r\n            var _a = _this.props, google = _a.google, controls = _a.controls;\r\n            var googleChartControls = controls === null\r\n                ? null\r\n                : controls.map(function (control, i) {\r\n                    var controlIDMaybe = control.controlID, controlType = control.controlType, controlOptions = control.options, controlWrapperParams = control.controlWrapperParams;\r\n                    var controlID = _this.getControlID(controlIDMaybe, i);\r\n                    return {\r\n                        controlProp: control,\r\n                        control: new google.visualization.ControlWrapper(__assign({ containerId: controlID, controlType: controlType, options: controlOptions }, controlWrapperParams))\r\n                    };\r\n                });\r\n            if (googleChartControls === null) {\r\n                return null;\r\n            }\r\n            googleChartDashboard.bind(googleChartControls.map(function (_a) {\r\n                var control = _a.control;\r\n                return control;\r\n            }), googleChartWrapper);\r\n            var _loop_1 = function (chartControl) {\r\n                var control = chartControl.control, controlProp = chartControl.controlProp;\r\n                var _a = controlProp.controlEvents, controlEvents = _a === void 0 ? [] : _a;\r\n                var _loop_2 = function (event_1) {\r\n                    var callback = event_1.callback, eventName = event_1.eventName;\r\n                    google.visualization.events.removeListener(control, eventName, callback);\r\n                    google.visualization.events.addListener(control, eventName, function () {\r\n                        var args = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            args[_i] = arguments[_i];\r\n                        }\r\n                        callback({\r\n                            chartWrapper: googleChartWrapper,\r\n                            controlWrapper: control,\r\n                            props: _this.props,\r\n                            google: google,\r\n                            eventArgs: args\r\n                        });\r\n                    });\r\n                };\r\n                for (var _i = 0, controlEvents_1 = controlEvents; _i < controlEvents_1.length; _i++) {\r\n                    var event_1 = controlEvents_1[_i];\r\n                    _loop_2(event_1);\r\n                }\r\n            };\r\n            for (var _i = 0, googleChartControls_1 = googleChartControls; _i < googleChartControls_1.length; _i++) {\r\n                var chartControl = googleChartControls_1[_i];\r\n                _loop_1(chartControl);\r\n            }\r\n            return googleChartControls;\r\n        };\r\n        _this.renderChart = function () {\r\n            var _a = _this.props, width = _a.width, height = _a.height, options = _a.options, style = _a.style, className = _a.className, rootProps = _a.rootProps, google = _a.google;\r\n            var divStyle = __assign({ height: height || (options && options.height), width: width || (options && options.width) }, style);\r\n            return (createElement(\"div\", __assign({ id: _this.getGraphID(), style: divStyle, className: className }, rootProps), _this.state.isReady && _this.state.googleChartWrapper !== null ? (createElement(Fragment, null,\r\n                createElement(GoogleChartDataTable, { googleChartWrapper: _this.state.googleChartWrapper, google: google, googleChartDashboard: _this.state.googleChartDashboard }),\r\n                createElement(GoogleChartEvents, { googleChartWrapper: _this.state.googleChartWrapper, google: google }))) : null));\r\n        };\r\n        _this.renderControl = function (filter) {\r\n            if (filter === void 0) { filter = function (_a) {\r\n                var control = _a.control, controlProp = _a.controlProp;\r\n                return true;\r\n            }; }\r\n            return _this.state.isReady && _this.state.googleChartControls !== null ? (createElement(Fragment, null, _this.state.googleChartControls\r\n                .filter(function (_a) {\r\n                var controlProp = _a.controlProp, control = _a.control;\r\n                return filter({ control: control, controlProp: controlProp });\r\n            })\r\n                .map(function (_a) {\r\n                var control = _a.control, controlProp = _a.controlProp;\r\n                return (createElement(\"div\", { key: control.getContainerId(), id: control.getContainerId() }));\r\n            }))) : null;\r\n        };\r\n        _this.renderToolBar = function () {\r\n            if (_this.props.toolbarItems === null)\r\n                return null;\r\n            return createElement(\"div\", { ref: _this.toolbar_ref });\r\n        };\r\n        return _this;\r\n    }\r\n    GoogleChart.prototype.componentDidMount = function () {\r\n        var _a = this.props, options = _a.options, google = _a.google, chartType = _a.chartType, chartWrapperParams = _a.chartWrapperParams, toolbarItems = _a.toolbarItems, getChartEditor = _a.getChartEditor, getChartWrapper = _a.getChartWrapper;\r\n        var chartConfig = __assign({ chartType: chartType,\r\n            options: options, containerId: this.getGraphID() }, chartWrapperParams);\r\n        var googleChartWrapper = new google.visualization.ChartWrapper(chartConfig);\r\n        googleChartWrapper.setOptions(options);\r\n        getChartWrapper(googleChartWrapper, google);\r\n        var googleChartDashboard = new google.visualization.Dashboard(this.dashboard_ref);\r\n        var googleChartControls = this.addControls(googleChartWrapper, googleChartDashboard);\r\n        if (toolbarItems !== null) {\r\n            google.visualization.drawToolbar(this.toolbar_ref.current, toolbarItems);\r\n        }\r\n        var googleChartEditor = null;\r\n        if (getChartEditor !== null) {\r\n            googleChartEditor = new google.visualization.ChartEditor();\r\n            getChartEditor({\r\n                chartEditor: googleChartEditor,\r\n                chartWrapper: googleChartWrapper,\r\n                google: google\r\n            });\r\n        }\r\n        this.setState({\r\n            googleChartEditor: googleChartEditor,\r\n            googleChartControls: googleChartControls,\r\n            googleChartDashboard: googleChartDashboard,\r\n            googleChartWrapper: googleChartWrapper,\r\n            isReady: true\r\n        });\r\n    };\r\n    GoogleChart.prototype.componentDidUpdate = function () {\r\n        if (this.state.googleChartWrapper === null)\r\n            return;\r\n        if (this.state.googleChartDashboard === null)\r\n            return;\r\n        if (this.state.googleChartControls === null)\r\n            return;\r\n        var controls = this.props.controls;\r\n        for (var i = 0; i < controls.length; i += 1) {\r\n            var _a = controls[i], controlType = _a.controlType, options = _a.options, controlWrapperParams = _a.controlWrapperParams;\r\n            if (controlWrapperParams && \"state\" in controlWrapperParams) {\r\n                this.state.googleChartControls[i].control.setState(controlWrapperParams[\"state\"]);\r\n            }\r\n            this.state.googleChartControls[i].control.setOptions(options);\r\n            this.state.googleChartControls[i].control.setControlType(controlType);\r\n        }\r\n    };\r\n    GoogleChart.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return (this.state.isReady !== nextState.isReady ||\r\n            nextProps.controls !== this.props.controls);\r\n    };\r\n    GoogleChart.prototype.render = function () {\r\n        var _a = this.props, width = _a.width, height = _a.height, options = _a.options, style = _a.style;\r\n        var divStyle = __assign({ height: height || (options && options.height), width: width || (options && options.width) }, style);\r\n        if (this.props.render !== null) {\r\n            return (createElement(\"div\", { ref: this.dashboard_ref, style: divStyle },\r\n                createElement(\"div\", { ref: this.toolbar_ref, id: \"toolbar\" }),\r\n                this.props.render({\r\n                    renderChart: this.renderChart,\r\n                    renderControl: this.renderControl,\r\n                    renderToolbar: this.renderToolBar\r\n                })));\r\n        }\r\n        else {\r\n            return (createElement(\"div\", { ref: this.dashboard_ref, style: divStyle },\r\n                this.renderControl(function (_a) {\r\n                    var controlProp = _a.controlProp;\r\n                    return controlProp.controlPosition !== \"bottom\";\r\n                }),\r\n                this.renderChart(),\r\n                this.renderControl(function (_a) {\r\n                    var controlProp = _a.controlProp;\r\n                    return controlProp.controlPosition === \"bottom\";\r\n                }),\r\n                this.renderToolBar()));\r\n        }\r\n    };\r\n    return GoogleChart;\r\n}(Component));\n\nvar Chart = (function (_super) {\r\n    __extends(Chart, _super);\r\n    function Chart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._isMounted = false;\r\n        _this.state = {\r\n            loadingStatus: \"loading\",\r\n            google: null\r\n        };\r\n        _this.onLoad = function (google) {\r\n            if (_this.isFullyLoaded(google)) {\r\n                _this.onSuccess(google);\r\n            }\r\n            else {\r\n                var id_1 = setInterval(function () {\r\n                    var google = window.google;\r\n                    if (_this._isMounted) {\r\n                        if (google && _this.isFullyLoaded(google)) {\r\n                            clearInterval(id_1);\r\n                            _this.onSuccess(google);\r\n                        }\r\n                    }\r\n                    else {\r\n                        clearInterval(id_1);\r\n                    }\r\n                }, 1000);\r\n            }\r\n        };\r\n        _this.onSuccess = function (google) {\r\n            _this.setState({\r\n                loadingStatus: \"ready\",\r\n                google: google\r\n            });\r\n        };\r\n        _this.onError = function () {\r\n            _this.setState({\r\n                loadingStatus: \"errored\"\r\n            });\r\n        };\r\n        return _this;\r\n    }\r\n    Chart.prototype.render = function () {\r\n        var _a = this.props, chartLanguage = _a.chartLanguage, chartPackages = _a.chartPackages, chartVersion = _a.chartVersion, mapsApiKey = _a.mapsApiKey, loader = _a.loader, errorElement = _a.errorElement;\r\n        return (createElement(ContextProvider, { value: this.props },\r\n            this.state.loadingStatus === \"ready\" && this.state.google !== null ? (createElement(GoogleChart, __assign({}, this.props, { google: this.state.google }))) : this.state.loadingStatus === \"errored\" && errorElement ? (errorElement) : (loader),\r\n            createElement(GoogleChartLoader, __assign({}, { chartLanguage: chartLanguage, chartPackages: chartPackages, chartVersion: chartVersion, mapsApiKey: mapsApiKey }, { onLoad: this.onLoad, onError: this.onError }))));\r\n    };\r\n    Chart.prototype.componentDidMount = function () {\r\n        this._isMounted = true;\r\n    };\r\n    Chart.prototype.componentWillUnmount = function () {\r\n        this._isMounted = false;\r\n    };\r\n    Chart.prototype.isFullyLoaded = function (google) {\r\n        var _a = this.props, controls = _a.controls, toolbarItems = _a.toolbarItems, getChartEditor = _a.getChartEditor;\r\n        return (google &&\r\n            google.visualization &&\r\n            google.visualization.ChartWrapper &&\r\n            google.visualization.Dashboard &&\r\n            (!controls || google.visualization.ChartWrapper) &&\r\n            (!getChartEditor || google.visualization.ChartEditor) &&\r\n            (!toolbarItems || google.visualization.drawToolbar));\r\n    };\r\n    Chart.defaultProps = chartDefaultProps;\r\n    return Chart;\r\n}(Component));\n\nexport default Chart;\nexport { Chart };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}